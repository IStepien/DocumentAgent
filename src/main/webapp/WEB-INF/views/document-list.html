<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <link rel="stylesheet" href="../resources/style.css" type="text/css"/>
    <meta charset="UTF-8">
    <title>Documents</title>
</head>
<body>
<div class="form">
    <form th:action="@{/documents/findDocumentByTitle}" method="post">
        <p> Search: <input name="docTitle" type="text"></p>
        <input type="submit" value="submit">
    </form>
</div>

<div class="form">
    <p>List of my documents</p>
    <form th:action="@{/documents/sortBy}" method="post">

        docId <input type="radio" name="value" value="docId">
        docTitle <input type="radio" name="value" value="docTitle"/>
        docDateAdded <input type="radio" name="value" value="docDateAdded"/>
        docLastModified <input type="radio" name="value" value="docLastModified"/>
        <input type="submit" value="sort">
    </form>
</div>
<div class="container">
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Id:</th>
            <th>Title:</th>
            <th>Description:</th>
            <th>Date added:</th>
            <th>Date modified:</th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <td th:if="${#lists.isEmpty(documentList)}">
            No documents available
        </td>
        <tr th:each="document : ${documentList}">

            <td th:text="${document.docId}"/>
            <td th:text="${document.docTitle}"/>
            <td th:text="${document.docDescription}"/>
            <td th:text="${document.docDateAdded}"/>
            <td th:text="${document.docLastModified}"/>
            <td><a th:href="@{/documents/formForUpdateDocument(docId=${document.docId})}">modify</a></td>
            <td><a th:href="@{/documents/showDocumentPreview(docId=${document.docId})}">preview doc</a>
            <td><a th:href="@{/documents/download(docId=${document.docId})}"> download</a></td>
            <td><a th:href="@{/comments/addComment(docId=${document.docId})}"> add comment</a> </td>
            <td><a th:href="@{/documents/deleteDocument(docId=${document.docId})}">delete</a></td>
            <td><a th:href="@{/comments/showComments(docId=${document.docId})}"> show comments</a></td>


        </tr>
        </tbody>
    </table>

    <button type="button"><a th:href="@{/documents/formForAddDocument}">Add document</a></button>
    <button type="button"><a th:href="@{/}">home</a></button>
    <button type="button"><a th:href="@{/documents/list}">List of all my documents</a></button>
    <div sec:authorize="hasAnyRole('ROLE_MODERATOR, ROLE_ADMIN')">
        <button type="button"><a th:href="@{/documents/allDocuments}">List of all  documents</a></button>

    </div>

</div>


</body>

</html>